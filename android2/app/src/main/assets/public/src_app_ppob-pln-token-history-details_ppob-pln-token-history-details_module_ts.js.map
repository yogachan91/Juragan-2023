{"version":3,"file":"src_app_ppob-pln-token-history-details_ppob-pln-token-history-details_module_ts.js","mappings":"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","sources":["./src/app/ppob-pln-token-history-details/ppob-pln-token-history-details-routing.module.ts","./src/app/ppob-pln-token-history-details/ppob-pln-token-history-details.module.ts","./src/app/ppob-pln-token-history-details/ppob-pln-token-history-details.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PpobPlnTokenHistoryDetailsPage } from './ppob-pln-token-history-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PpobPlnTokenHistoryDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PpobPlnTokenHistoryDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PpobPlnTokenHistoryDetailsPageRoutingModule } from './ppob-pln-token-history-details-routing.module';\n\nimport { PpobPlnTokenHistoryDetailsPage } from './ppob-pln-token-history-details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PpobPlnTokenHistoryDetailsPageRoutingModule\n  ],\n  declarations: [PpobPlnTokenHistoryDetailsPage]\n})\nexport class PpobPlnTokenHistoryDetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { LoadingController, NavController, AlertController } from '@ionic/angular';\nimport { DolphinService } from '../services/dolphin.service';\n\n@Component({\n  selector: 'app-ppob-pln-token-history-details',\n  templateUrl: './ppob-pln-token-history-details.page.html',\n  styleUrls: ['./ppob-pln-token-history-details.page.scss'],\n})\nexport class PpobPlnTokenHistoryDetailsPage implements OnInit {\n  itemDetails: any;\n  ppobDetails: any;\n  ppobResponse: any;\n  ppobtype: any;\n  constructor(\n    private dolphinService: DolphinService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private navController: NavController,\n    private alertController: AlertController\n  ) {\n    \n  }\n\n  loadData() {\n    if(this.itemDetails.transaction_ref) {\n      \n      this.dolphinService.ppobcheck(this.itemDetails['transaction_ref']).subscribe((data) => {\n      //this.ULIServ.ppobcheck('MJ.INDOH2H.PLNPREPAID.PURCHASE.56602729479.PLN20.1599117997.178114', this.outlet_id).then((data) => {\n        // console.log('PPOB Details', data);\n        if(data.status == 'success'){ \n          if(data.retdata.data.response == 'Success') {\n            this.ppobResponse = data.retdata.data\n            if(this.ppobResponse.ref) {\n              let ppobToken = this.ppobResponse.ref.split('/');\n              this.ppobDetails = {\n                number: this.ppobResponse.number,\n                status: this.ppobResponse.status,\n                nama: ppobToken[1],\n                tarif: ppobToken[2],\n                daya: ppobToken[3],\n                kwh: ppobToken[4],\n                token: ppobToken[0]\n              }\n            } else {\n              this.ppobDetails = {\n                number: this.ppobResponse.number,\n                status: this.ppobResponse.status,\n                nama: '',\n                tarif: '',\n                daya: '',\n                kwh: '',\n                token: ''\n              }\n            }\n          } else {\n            this.showAlert('Oops..', data.retdata.data.message)\n            this.navController.pop();\n          }\n        }\n      });\n    } else {\n      this.navController.pop();\n    }\n  }\n\n  ngOnInit() {\n    const currentState = this.router.getCurrentNavigation();\n    this.itemDetails = currentState.extras.state.itemDetails;\n    // console.log('itemDetails', this.itemDetails);\n    this.loadData();\n    if(this.itemDetails.gift_code == 'RP001') {\n      this.ppobtype = 'plnbilling';\n    } else {\n      this.ppobtype = 'plntoken';\n    }\n  }\n  \n  reload() {\n    this.ppobDetails = null;\n    this.loadData(); \n  }\n  \n  async showAlert(title, msg) {\n    const alert = await this.alertController.create({\n      header: title,\n      message: msg,\n      buttons: [{text: 'Ok'}]\n    });\n    await alert.present()\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}