{"version":3,"file":"src_app_login_login_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEd;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;KACrB;CACF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAJlC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBM;AACM;AACmB;AAErB;AAEmB;AAEvB;IAY5B,eAAe,SAAf,eAAe;CAAG;AAAlB,eAAe;IAV3B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,yEAAsB;YACtB,+DAAmB;SACpB;QACD,YAAY,EAAE,CAAC,kDAAS,CAAC;KAC1B,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBiD;AAC3B;AACkB;AACU;AACrC;AACyB;AACM;AACS;AACpB;AACW;AACY;AACpF,uEAAuE;AACV;IAMhD,SAAS,SAAT,SAAS;IAKpB,YACU,EAAe,EACf,WAAkC,EAClC,eAAgC,EAChC,MAAc,EACd,iBAAoC,EACrC,eAAgC,EAC/B,YAA6B,EAC7B,MAAc,EACf,QAAkB;IACzB,+BAA+B;IACvB,cAA8B;QAV9B,OAAE,GAAF,EAAE,CAAa;QACf,gBAAW,GAAX,WAAW,CAAuB;QAClC,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QACd,sBAAiB,GAAjB,iBAAiB,CAAmB;QACrC,oBAAe,GAAf,eAAe,CAAiB;QAC/B,iBAAY,GAAZ,YAAY,CAAiB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACf,aAAQ,GAAR,QAAQ,CAAU;QAEjB,mBAAc,GAAd,cAAc,CAAgB;QAEtC,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,gBAAgB;QACd,iCAAiC;IACnC,CAAC;IAED,YAAY;QACV,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACvD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAC,IAAI,CAAC,KAAK,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YAC9B,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,EAAC;gBAChC,IAAI,CAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,kCAAkC;aACrE;iBAAM;gBACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBAC9B,qCAAqC;aACpC;YACD,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,sCAAsC;YACtC,kEAAkE;QAEpE,CAAC,CAAC,CAAC;IAEL,CAAC;IAIK,SAAS,CAAC,KAAK,EAAC,GAAG;;YACvB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,GAAG;gBACZ,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;qBACX;iBAAC;aACL,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE;QACvB,CAAC;KAAA;IAEK,SAAS;;YACb,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,gFAAc;gBACzB,cAAc,EAAE,EAAE;gBAClB,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;aAC9C,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,EAAE;gBACzC,IAAI,YAAY,KAAK,IAAI,EAAE;oBACzB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;oBACzC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC,IAAI,CAAC;oBACtC,IAAG,IAAI,CAAC,YAAY,EAAE;wBACpB,gDAAgD;wBAChD,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;4BAC9B,iCAAiC;4BACjC,IAAG,IAAI,CAAC,IAAI,EAAC;gCAEX,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;oCACrF,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oCAC3B,IAAG,IAAI,CAAC,MAAM,IAAI,KAAK,EAAE;wCACvB,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC;qCAC1C;gCACH,CAAC,CAAC,CAAC;gCAEH,mCAAmC;gCAEnC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;oCACvF,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;oCACjC,IAAG,IAAI,CAAC,MAAM,IAAI,SAAS,EAAC;wCAC1B,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC;qCAC5C;yCAAM;wCACL,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;qCACnC;gCACH,CAAC,CAAC,CAAC;6BAEJ;wBACH,CAAC,CAAC;qBACH;iBACF;qBAAM;oBACL,yCAAyC;iBAC1C;YACH,CAAC,CAAC,CAAC;YACH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAEK,UAAU;;YACd,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,4FAAkB;gBAC7B,cAAc,EAAE,EAAE;gBAClB,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;aAC9C,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,EAAE;gBACzC,IAAI,YAAY,KAAK,IAAI,EAAE;oBACzB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC,IAAI,CAAC;oBACtC,IAAG,IAAI,CAAC,YAAY,EAAE;wBACpB,gDAAgD;wBAChD,IAAG,IAAI,CAAC,YAAY,EAAC;4BACnB,IAAI,CAAC,UAAU,EAAE;yBAClB;qBACF;iBACF;YACH,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAEK,UAAU;;YACd,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,eAAe;gBACvB,OAAO,EAAE,+DAA+D;gBACxE,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,SAAS,CAAC,SAAS;;YACvB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,gFAAc;gBACzB,cAAc,EAAE,EAAE;gBAClB,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;aAC9C,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE;gBACtC,IAAI,SAAS,KAAK,IAAI,EAAE;oBACtB,IAAG,SAAS,CAAC,IAAI,KAAK,IAAI,EAAE;wBAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;4BAC9B,yBAAyB;4BACzB,IAAG,IAAI,CAAC,IAAI,EAAC;gCACX,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;6BACvB;wBACH,CAAC,CAAC;qBACH;yBAAM;wBACL,IAAI,CAAC,QAAQ,EAAE,CAAC;qBACjB;iBACF;YACH,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAEK,QAAQ;;YACZ,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,sBAAsB;gBAC9B,OAAO,EAAE,8DAA8D;gBACvE,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,YAAY;;YAChB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,yFAAiB;gBAC5B,cAAc,EAAE;oBACd,SAAS,EAAE,GAAG;oBACd,YAAY,EAAE,YAAY;iBAC3B;gBACD,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;aAC9C,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,EAAE;gBACzC,IAAI,YAAY,KAAK,IAAI,EAAE;oBACzB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC,IAAI,CAAC;oBACtC,gDAAgD;iBACjD;YACH,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAED,QAAQ;IACR,CAAC;IAEK,KAAK,CAAC,WAAW;;YACrB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,OAAO,EAAE,cAAc;gBACvB,eAAe,EAAE,KAAK;aACvB,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAExB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,SAAS,CAC3D,CAAO,GAAG,EAAE,EAAE,CAAC;gBACb,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;gBACxB,oCAAoC;YACtC,CAAC,GACD,CAAO,GAAG,EAAE,EAAE,CAAC;gBACb,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;gBACxB,mCAAmC;gBACnC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oBAC9C,MAAM,EAAE,aAAa;oBACrB,OAAO,EAAE,GAAG,CAAC,OAAO;oBACpB,OAAO,EAAE,CAAC,IAAI,CAAC;iBAChB,CAAC,CAAC;gBACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EACF,CAAC;QACJ,CAAC;KAAA;CAGF;;YA3PQ,wDAAW;YAFX,mFAAqB;YAGX,4DAAe;YACzB,oDAAM;YADqB,8DAAiB;YAE5C,4DAAe;YAAE,4DAAe;YAGhC,uEAAM;YALN,qDAAQ;YASR,qEAAc;;AAMV,SAAS;IALrB,yDAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,kEAAgC;;KAEjC,CAAC;GACW,SAAS,CA2OrB;AA3OqB","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { AuthenticationService } from './../services/authentication.service';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Platform, AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { ModalController, IonRouterOutlet } from '@ionic/angular';\nimport { LoginModalPage } from '../modals/login-modal/login-modal.page';\nimport { RegisterModalPage } from '../modals/register-modal/register-modal.page';\nimport { Device } from '@awesome-cordova-plugins/device/ngx';\nimport { TermsModalPage } from '../modals/terms-modal/terms-modal.page';\nimport { ForgotPasswordPage } from '../modals/forgot-password/forgot-password.page';\n// import { StatusBar } from '@awesome-cordova-plugins/status-bar/ngx';\nimport { DolphinService } from '../services/dolphin.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  dataReturned: any;\n  IMEI: any;\n  infowa:any;\n  url_panduan:any;\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthenticationService,\n    private alertController: AlertController,\n    private router: Router,\n    private loadingController: LoadingController,\n    public modalController: ModalController,\n    private routerOutlet: IonRouterOutlet,\n    private device: Device,\n    public platform: Platform,\n    // private statusBar: StatusBar\n    private dolphinService: DolphinService\n  ) { \n    this.loadIMEI();\n  }\n\n  ionViewWillEnter() {\n    // this.statusBar.styleDefault();\n  }\n\n  whatsappinfo(){\n    this.dolphinService.whatsappinfo('','').subscribe(data => {\n      console.log('infowa',data.info1)\n    this.infowa = data.info1;\n    });\n  }\n\n  panduan(){\n    this.dolphinService.panduan().subscribe(data => {\n      this.url_panduan = data.retdata;\n    });\n  }\n\n  loadIMEI() {\n    this.platform.ready().then(() => {\n      if (this.platform.is('mobileweb')){\n        this.IMEI = 'f76f5497984f4f7812'; //0c551d27a340dfe2 //--test-device\n      } else {\n       this.IMEI = this.device.uuid;\n      //  this.IMEI = 'f76f5497984f4f7812';\n      }\n      this.whatsappinfo();\n      this.panduan();\n      // console.log('loadIMEI', this.IMEI);\n      // console.log('this.device.platform', this.platform.platforms());\n\n    });\n\n  }\n\n  \n\n  async showAlert(title,msg) {\n    const alert = await this.alertController.create({\n      header: title,\n      message: msg,\n      buttons: [\n        {\n          text: 'Ok'\n        }]\n    });\n\n    await alert.present()\n  }\n\n  async openLogin() {\n    const modal = await this.modalController.create({\n      component: LoginModalPage,\n      componentProps: {},\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    modal.onDidDismiss().then((dataReturned) => {\n      if (dataReturned !== null) {\n        console.log('dataReturned', dataReturned)\n        this.dataReturned = dataReturned.data;\n        if(this.dataReturned) {\n          // console.log('Outlet ID: '+this.dataReturned);\n          this.platform.ready().then(() => {\n            // console.log('IMEI', this.IMEI)\n            if(this.IMEI){\n\n              this.dolphinService.setimei(this.IMEI, this.dataReturned.user_email).subscribe((data) => {\n                 console.log('IMEI', data);\n                if(data.status == 'err') {\n                  this.showAlert('Perhatian', data.retdata)\n                }\n              });  \n              \n              // console.log('IMEI:', this.IMEI);\n              \n              this.dolphinService.checkimei(this.IMEI, this.dataReturned.user_email).subscribe((data) => {\n                 console.log('checkimeis', data);\n                if(data.status == 'timeout'){\n                  this.showAlert('Error Login', data.retdata)\n                } else {\n                  this.openTerms(this.dataReturned);\n                }\n              });\n              \n            }\n          })\n        }\n      } else {\n        // console.log('dataReturned', 'NO DATA')\n      }\n    });\n    return await modal.present();\n  }\n\n  async openForgot() {\n    const modal = await this.modalController.create({\n      component: ForgotPasswordPage,\n      componentProps: {},\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    modal.onDidDismiss().then((dataReturned) => {\n      if (dataReturned !== null) {\n        this.dataReturned = dataReturned.data;\n        if(this.dataReturned) {\n          // console.log('Outlet ID: '+this.dataReturned);\n          if(this.dataReturned){\n            this.forgotpass()\n          }\n        }\n      }\n    });\n\n    return await modal.present();\n  }\n\n  async forgotpass() {\n    const alert = await this.alertController.create({\n      header: 'Lupa Password',\n      message: 'Petunjuk penggantian password telah dikirimkan ke email Anda.',\n      buttons: ['OK'],\n    });\n  \n    await alert.present();  \n  }\n\n  async openTerms(logindata) {\n    const modal = await this.modalController.create({\n      component: TermsModalPage,\n      componentProps: {},\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    modal.onDidDismiss().then((dataTerms) => {\n      if (dataTerms !== null) {\n        if(dataTerms.data === true) {\n          this.platform.ready().then(() => {\n            // console.log(this.IMEI)\n            if(this.IMEI){\n              this.login(logindata);\n            }\n          })\n        } else {\n          this.notagree();\n        }\n      }\n    });\n\n    return await modal.present();\n  }\n\n  async notagree() {\n    const alert = await this.alertController.create({\n      header: 'Syarat dan Ketentuan',\n      message: 'Anda harus menyetujui Syarat dan Ketentuan untuk melanjutkan',\n      buttons: ['OK'],\n    });\n  \n    await alert.present();  \n  }\n  \n  async openRegister() {\n    const modal = await this.modalController.create({\n      component: RegisterModalPage,\n      componentProps: {\n        \"paramID\": 123,\n        \"paramTitle\": \"Test Title\"\n      },\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    modal.onDidDismiss().then((dataReturned) => {\n      if (dataReturned !== null) {\n        this.dataReturned = dataReturned.data;\n        //alert('Modal Sent Data :'+ dataReturned.data);\n      }\n    });\n\n    return await modal.present();\n  }\n\n  ngOnInit() {\n  }\n\n  async login(credentials) {\n    const loading = await this.loadingController.create({\n      message: 'Logging In..',\n      backdropDismiss: false\n    });\n    await loading.present();\n    \n    this.authService.loginEmail(this.IMEI, credentials).subscribe(\n      async (res) => {\n        await loading.dismiss();\n        // console.log('AUTH', res);        \n      },\n      async (err) => {\n        await loading.dismiss();\n        // console.log('ERR', err.message);\n        const alert = await this.alertController.create({\n          header: 'Login gagal',\n          message: err.message,\n          buttons: ['OK'],\n        });\n        await alert.present();\n      }\n    );\n  }\n\n \n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}