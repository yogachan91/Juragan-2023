{"version":3,"file":"src_app_redeem-ewallet-list_redeem-ewallet-list_module_ts.js","mappings":"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","sources":["./src/app/redeem-ewallet-list/redeem-ewallet-list-routing.module.ts","./src/app/redeem-ewallet-list/redeem-ewallet-list.module.ts","./src/app/redeem-ewallet-list/redeem-ewallet-list.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RedeemEwalletListPage } from './redeem-ewallet-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RedeemEwalletListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RedeemEwalletListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RedeemEwalletListPageRoutingModule } from './redeem-ewallet-list-routing.module';\n\nimport { RedeemEwalletListPage } from './redeem-ewallet-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RedeemEwalletListPageRoutingModule\n  ],\n  declarations: [RedeemEwalletListPage]\n})\nexport class RedeemEwalletListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { DolphinService } from '../services/dolphin.service';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-redeem-ewallet-list',\n  templateUrl: './redeem-ewallet-list.page.html',\n  styleUrls: ['./redeem-ewallet-list.page.scss'],\n})\nexport class RedeemEwalletListPage implements OnInit {\n  ewallettype:any;\n  ewalletcode:any;\n  denomlist:any;\n  balance: any;\n  profile:any;\n  selectedData:any;\n  phonenumber:any;\n  namapemilik:any;\n  ewallettypeText:any;\n  OTP:any;\n  constructor(\n    private router: Router,\n    private dolphinService: DolphinService, \n    private alertController: AlertController,\n    private toastController: ToastController,\n    private loadingController:LoadingController\n  ) {\n  }\n\n  ngOnInit() {\n    this.presentToast();\n    const currentState = this.router.getCurrentNavigation();\n    this.ewallettype = currentState.extras.state.type;\n    this.ewallettypeText = this.ewallettype.toUpperCase();\n    this.ewalletcode = currentState.extras.state.code;\n    this.dolphinService.ewalletdenom(this.ewalletcode).subscribe(data => {\n      this.denomlist = data\n      this.dolphinService.getpoint().subscribe(data => {\n        this.balance = data\n        this.toastController.dismiss();\n      });\n\n      this.dolphinService.getdetailprofile().subscribe(data => {\n        \n        this.profile = data[0]\n        // console.log('PROFIL', this.profile)\n        this.phonenumber = this.profile.no_hp;\n        this.namapemilik = this.profile.NAMA_PEMILIK;\n        if(!this.phonenumber) {\n          this.showalert(\"Oops..\", \"Lengkapi nomor handphone pada halaman profil Anda untuk melakukan redeem E-Wallet\");\n          this.router.navigateByUrl('/', { replaceUrl: true });\n          \n        } else if(!this.namapemilik) {\n          this.showalert(\"Oops..\", \"Lengkapi Nama Pemilik Outlet pada halaman profil Anda untuk melakukan redeem E-Wallet\");\n          this.router.navigateByUrl('/', { replaceUrl: true });\n\n        } else {\n\n        }\n      });\n      \n      \n    });\n  }\n\n  async showalert(title, message) {\n    const alert = await this.alertController.create({\n      header: title,\n      message: message,\n      buttons: ['OK'],\n    });\n  \n    await alert.present();  \n  }\n\n  async presentToast() {\n    const toast = await this.toastController.create({\n      icon: 'information-circle',\n      message: 'Memuat data E-Wallet, harap menunggu..',\n      color: 'dark'\n    });\n    toast.present();\n  }\n\n  updateSelected(i) {\n    this.selectedData = i;\n    console.log('Selected', this.selectedData['amount'])\n    // let navigationExtras: NavigationExtras = {\n    //   state: {\n    //     reload: true\n    //   }\n    // };\n    // this.router.navigate(['/'], navigationExtras);\n  }\n\n  async tukarpoin() {\n    console.log('Selected', this.selectedData)\n    console.log('ewallettype', this.ewallettype)\n    let phoneNum = this.phonenumber.replace(/\\s/g,'').trim();\n    if(this.ewallettype != 'ovo') {\n      if (phoneNum.charAt(0) == '0') {\n        phoneNum = phoneNum.replace('0', '62');\n      }  \n    }\n    const alert = await this.alertController.create({\n      header: 'Verifikasi Redeem',\n      message: 'Untuk melanjutkan redeem, <br>kami akan melakukan pengecekan dan mengirimkan  OTP ke nomor '+ this.phonenumber,\n      // buttons: [\n      //       {\n      //         text: 'Tidak',\n      //         handler: () => {\n      //           // console.log('Tidak')\n      //         }\n      //       },\n      //       {\n      //         text: 'Ya, Kirimkan sekarang',\n      //         handler: () => {\n      //           // if(this.ewallettype === 'ovo') {\n      //           //   //ovo\n      //           //   this.checkOvo(phoneNum, this.selectedData['amount']);\n      //           //   //.ovo\n      //           // } else {\n      //             this.sendotp(phoneNum)\n      //           // }\n      //         }\n      //       },\n      // ]\n      buttons: [\n        {\n          text: 'Whatsapp',\n          handler: () => {\n            this.sendotp(phoneNum,'wa')\n          }\n        },\n        {\n          text: 'SMS',\n          handler: () => {\n            this.sendotp(phoneNum,'sms')\n          }\n        },\n  ]\n    });\n    await alert.present();\n  }\n\n\n  //OVO\n  checkOvo(n, v) {\n    this.doLoading('Melakukan pengecekan nomor '+this.ewallettypeText+'...')\n    this.dolphinService.checkovo(n, v).subscribe(data => {\n      console.log(data)\n      if(data.status == 'success'){\n        this.sendotpOvo(n, data['data']['dst']['custName'], data['data']['dst']['custId'])\n      } else {\n        this.showalert(\"Oops..\", data.message);\n      }\n      this.loadingController.dismiss()\n    });\n  }\n\n  sendotpOvo(n, user, userId) {\n    this.OTP = 12345\n    this.verifyOTPOVO(12345, user, userId);\n  \n  }\n\n  async verifyOTPOVO(otp_code, user, userId) {\n    const alert = await this.alertController.create({\n      header: 'Konfirmasi Kode OTP',\n      message: 'Ovo Cust. ID: '+userId+'<br>Ovo Cust. Name: '+user+'<br>Kami telah mengirimkan SMS OTP ke nomor Anda, <br>isi 5 angka dalam SMS tersebut kemudian klik konfirmasi',\n      inputs: [\n              {\n                name: 'kodeotp',\n                placeholder: 'isi dengan 5 angka kode OTP..',\n                type: 'number'\n              }],\n      buttons: [\n            {\n              text: 'Konfirmasi OTP',\n              handler: (data) => {\n                if(data.kodeotp == otp_code) {\n                  this.prosesRedeemOVO();\n                } else {\n                  this.showalert('Oops..', 'Kode OTP tidak sesuai');\n                }\n              }\n            },\n      ]\n    });\n    await alert.present();\n  }\n\n  prosesRedeemOVO() {\n    this.doLoading('Memproses Saldo '+this.ewallettypeText+'...')\n    let sendData = {\n      'gift_name': this.selectedData['gift_name'],\n      'point': this.selectedData['point']\n    }\n    this.dolphinService.redeemovopost(sendData, this.phonenumber, this.selectedData['amount']).subscribe(data => {\n      this.loadingController.dismiss();\n      console.log(data)\n      if(data.status == 'success'){\n        this.showalert(\n          'Redeem Sukses', \n          \"Berhasil menukarkan \"+ this.selectedData.gift_name + \", redeem akan segera diproses. Saldo \"+ this.ewallettypeText +\" Anda akan otomatis bertambah dan bisa Anda cek melalui aplikasi \"+ this.ewallettypeText +\" Anda. Cek pada halaman notifikasi pada aplikasi JURAGAN untuk melihat status redeem Anda.\"  \n        )\n        this.router.navigateByUrl('/', { replaceUrl: true });\n      } else {\n        console.log(\"prosesRedeemOVO-Error\", data);\n        this.showalert(\n          'Oops..', \n          data['data']['error']['message']\n        )\n      }\n    });\n  }\n  //.OVO\n\n  sendotp(n,t) {\n    this.dolphinService.sendotp(n,t).subscribe(data => {\n      this.OTP = data.otp\n      this.verifyOTP(data.otp)\n      if(t=='wa'){\n        // log auth\n        this.dolphinService.logs_auth('wa','Redeem_ewallet').subscribe(data => {});\n      } else {\n        // log auth\n        this.dolphinService.logs_auth('sms','Redeem_ewallet').subscribe(data => {});\n      }\n    });\n  }\n\n  async verifyOTP(otp_code) {\n    const alert = await this.alertController.create({\n      header: 'Konfirmasi Kode OTP',\n      message: 'Kami telah mengirimkan SMS OTP ke nomor Anda, <br>isi 5 angka dalam SMS tersebut kemudian klik konfirmasi',\n      inputs: [\n              {\n                name: 'kodeotp',\n                placeholder: 'isi dengan 5 angka kode OTP..',\n                type: 'number'\n              }],\n      buttons: [\n            {\n              text: 'Konfirmasi OTP',\n              handler: (data) => {\n                if(data.kodeotp == otp_code) {\n                  this.prosesRedeem();\n                } else {\n                  this.showalert('Oops..', 'Kode OTP tidak sesuai');\n                }\n              }\n            },\n      ]\n    });\n    await alert.present();\n  }\n\n  async prosesRedeem() {\n    this.doLoading('Memproses Saldo '+this.ewallettypeText+'...')\n    console.log('sitole holidey')\n    this.dolphinService.ewalletredeem(this.ewallettype, this.selectedData.redeem_code, this.phonenumber).subscribe(data => {\n      this.loadingController.dismiss()\n      if(data.status === 'success'){\n        this.showalert(\n          'Redeem Sukses', \n          \"Berhasil menukarkan \"+ this.selectedData.gift_name + \", redeem akan segera diproses. Saldo \"+ this.ewallettypeText +\" Anda akan otomatis bertambah dan bisa Anda cek melalui aplikasi \"+ this.ewallettypeText +\" Anda. Cek pada halaman notifikasi pada aplikasi JURAGAN untuk melihat status redeem Anda.\"  \n        )\n        this.router.navigateByUrl('/', { replaceUrl: true });\n      } else {\n        if(data.status === 'err') {\n          this.showalert(\n            'Oops..', \n            data.message\n          )\n        } else {   \n          this.showalert(\n            'Oops..', \n            'Tidak dapat memproses, mohon dicoba kembali.'\n          )\n        }\n      }\n    });\n  }\n\n  async doLoading(msg) {\n    const loading = await this.loadingController.create({\n      message: msg,\n      backdropDismiss: false\n    });\n    await loading.present();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}