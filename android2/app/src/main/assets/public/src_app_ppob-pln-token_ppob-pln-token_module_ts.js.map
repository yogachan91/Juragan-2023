{"version":3,"file":"src_app_ppob-pln-token_ppob-pln-token_module_ts.js","mappings":"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","sources":["./src/app/ppob-pln-token/ppob-pln-token-routing.module.ts","./src/app/ppob-pln-token/ppob-pln-token.module.ts","./src/app/ppob-pln-token/ppob-pln-token.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PpobPlnTokenPage } from './ppob-pln-token.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PpobPlnTokenPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PpobPlnTokenPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PpobPlnTokenPageRoutingModule } from './ppob-pln-token-routing.module';\n\nimport { PpobPlnTokenPage } from './ppob-pln-token.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PpobPlnTokenPageRoutingModule\n  ],\n  declarations: [PpobPlnTokenPage]\n})\nexport class PpobPlnTokenPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { RadioControlValueAccessor } from '@angular/forms';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { DolphinService } from '../services/dolphin.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-ppob-pln-token',\n  templateUrl: './ppob-pln-token.page.html',\n  styleUrls: ['./ppob-pln-token.page.scss'],\n})\nexport class PpobPlnTokenPage implements OnInit {\n  idPelanggan: any;\n  balance: any;\n  denom:any;\n  nominal: any;\n  poinRedeem: any;\n  pageStat: string = 'inquiry';  \n  ppobDetailsNama:any;\n  is_loginsecret: boolean = false;\n  detailPayment:any;\n  constructor(\n    private dolphinService: DolphinService,\n    private loadingController:LoadingController,\n    private alertController: AlertController,\n    private router: Router,\n  ) {\n    this.dolphinService.getpoint().subscribe(data => {\n      // console.log('BALANCE',data)\n      this.balance = data\n    });\n    this.dolphinService.ppobdenom().subscribe(data => {      \n      this.denom = data\n      // console.log('DENOM',this.denom)\n    });\n  }\n\n  ngOnInit() {}\n\n  onChange(e) {\n    // console.log(e.detail.value)\n    let ev = e.detail.value;\n    this.poinRedeem = ev;\n  }\n\n  async showLoading(msg) {\n    const loading = await this.loadingController.create({\n      message: msg,\n      backdropDismiss: false\n    });\n    await loading.present();\n  }\n\n  async showAlert(title, msg) {\n    const alert = await this.alertController.create({\n      header: title,\n      message: msg,\n      buttons: [{text: 'Ok'}]\n    });\n    await alert.present()\n  }\n\n  check() {\n    this.showLoading('Memeriksa ID pelanggan Listrik PLN...')\n    this.dolphinService.ppob_pln_prepaid_inquiry(this.idPelanggan, this.poinRedeem.amount).subscribe(data => {\n      // console.log('ppob_pln_prepaid_inquiry', data)\n      if(data.retdata.status){\n        if(data.retdata.data.status_desc === 'Success'){\n          this.ppobDetailsNama = data.retdata.data.inquiry_details.subscriber_name;\n          this.pageStat = 'payment';\n        } else {\n          this.showAlert('Oops..', data.retdata.data.status_desc)\n        }\n      } else {\n        this.showAlert('Oops..', data.retdata.message)\n      }\n      this.loadingController.dismiss()\n    })\n  }\n\n  pay() {\n    this.showLoading('Memproses pembelian Token Listrik PLN...')\n    this.pageStat = 'payment';\n\n    this.dolphinService.ppobplnpayment(this.idPelanggan, this.poinRedeem.redeem_code).subscribe((data) => {\n      // console.log('ppobplnpayment', data)\n      if(data.status == 'success'){        \n        this.detailPayment = data.retdata.data;\n        this.pageStat = 'paid';\n      } else {\n        this.showAlert('Oops..', data.message)\n      }\n      this.loadingController.dismiss()\n    });\n  }\n\n  token: any;\n  checkstatus() {\n    this.showLoading('Mengambil data...')\n\n    this.dolphinService.ppobcheck(this.detailPayment.trx_ref).subscribe((data) => {\n      // console.log('PPOB STATUS', data);\n      if(data.status == 'success'){        \n        this.detailPayment = data.retdata.data   \n        if(this.detailPayment.ref) {\n          let tokenData = this.detailPayment.ref.split('/');\n          this.token = {\n            \"token_num\": tokenData[0],\n            \"token_nama\": tokenData[1],\n            \"token_tarif\": tokenData[2],\n            \"token_daya\": tokenData[3],\n            \"token_kwh\": tokenData[4],\n          };\n        }\n      } else {\n        this.showAlert('Oops..', data.message)\n      }\n      this.loadingController.dismiss()\n    });\n  }\n\n  history() {\n    this.router.navigate(['ppob-pln-token-history'])\n  }\n\n  cancel() {\n\n  }\n\n  close() {\n    \n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}